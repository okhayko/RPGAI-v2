
import type { ChangelogEntry } from '../types.ts';

export const CHANGELOG_DATA: ChangelogEntry[] = [
  {
    version: '1.49.1',
    date: '2025-08-31',
    changes: [
      { type: 'feature', text: 'History Compression Threshold Setting - ThÃªm cÃ i Ä‘áº·t "NgÆ°á»¡ng nÃ©n lá»‹ch sá»­" vÃ o Game Settings Modal vá»›i slider 30-200 má»¥c (máº·c Ä‘á»‹nh 72). User cÃ³ thá»ƒ Ä‘iá»u chá»‰nh khi nÃ o auto history compression kÃ­ch hoáº¡t: tháº¥p hÆ¡n = nÃ©n sá»›m hÆ¡n, cao hÆ¡n = giá»¯ lá»‹ch sá»­ lÃ¢u hÆ¡n.' },
      { type: 'improvement', text: 'Dynamic History Compression Configuration - UnifiedMemoryManager giá» sá»­ dá»¥ng historyCompressionThreshold tá»« gameSettings thay vÃ¬ hardcoded value. Cáº£ 2 cleanup paths trong GameScreen Ä‘á»u respect user setting, Ä‘áº£m báº£o consistent behavior across táº¥t cáº£ memory management operations.' },
      { type: 'fix', text: 'API Settings Modal Height Fix - Sá»­a lá»—i modal quÃ¡ cao khi thÃªm nhiá»u API keys, buttons bá»‹ che khuáº¥t. ThÃªm max-height (90vh), scrollable content area, vÃ  fixed footer vá»›i buttons. Modal giá» responsive vÃ  buttons luÃ´n accessible báº¥t ká»ƒ sá»‘ lÆ°á»£ng API keys.' },
    ],
  },
  {
    version: '1.49.0',
    date: '2025-08-31',
    changes: [
      { type: 'feature', text: 'Chain of Thought (COT) Toggle - ThÃªm tÃ¹y chá»n báº­t/táº¯t Chain of Thought trong Game Settings. Khi táº¯t, AI sáº½ pháº£n há»“i nhanh hÆ¡n mÃ  khÃ´ng cáº§n qua trÃ¬nh suy nghÄ© chi tiáº¿t. Cáº£i thiá»‡n performance cho user khÃ´ng muá»‘n xem quÃ¡ trÃ¬nh reasoning cá»§a AI.' },
      { type: 'fix', text: 'COT Response Schema Fix - Sá»­a lá»—i AI váº«n táº¡o COT reasoning khi COT bá»‹ táº¯t. Thay Ä‘á»•i responseSchema tá»« static object sang conditional useMemo dá»±a trÃªn gameSettings.enableCOT. Schema giá» chá»‰ require "cot_reasoning" field khi COT Ä‘Æ°á»£c báº­t, Ä‘áº£m báº£o AI thá»±c sá»± khÃ´ng táº¡o COT khi disabled.' },
      { type: 'improvement', text: 'Concise COT Reasoning Steps - Tá»‘i Æ°u COT prompt Ä‘á»ƒ má»—i bÆ°á»›c reasoning chá»‰ dÃ i 15-30 tá»« thay vÃ¬ verbose explanations. ThÃªm explicit instruction "âš ï¸ QUAN TRá»ŒNG - GIá»šI Háº N Äá»˜ DÃ€I: Má»—i bÆ°á»›c COT chá»‰ Ä‘Æ°á»£c 15-30 tá»«. Viáº¿t ngáº¯n gá»n, sÃºc tÃ­ch!" vÃ  update example templates cho concise format.' },
      { type: 'improvement', text: 'Floating Choice Panel Positioning Fix - Di chuyá»ƒn FloatingChoicePanel tá»« absolute positioning sang fixed positioning Ä‘á»ƒ trÃ¡nh che khuáº¥t story text. Panel giá» Ä‘Æ°á»£c Ä‘á»‹nh vá»‹ relative to viewport (bottom: 0) thay vÃ¬ container, Ä‘áº£m báº£o khÃ´ng overlap vá»›i ná»™i dung story.' },
      { type: 'feature', text: 'Enhanced NPC Data Generation & Validation - ThÃªm comprehensive NPC enhancement system vá»›i intelligent field filling: relationship field auto-convert sang tiáº¿ng Viá»‡t, age inference tá»« context (Thanh niÃªn/Trung niÃªn/Cao tuá»•i), detailed appearance generation tá»« story context, vÃ  fallback descriptions. NPC hiá»‡n cÃ³ Ä‘áº§y Ä‘á»§ thÃ´ng tin trong EntityInfoModal vÃ  StatusPanel.' },
      { type: 'improvement', text: 'AI Prompt Enhancement for NPCs - Cáº£i thiá»‡n prompt template vá»›i "Báº®T BUá»˜C" requirements cho táº¥t cáº£ NPC fields, minimum word counts cho appearance/description (10-15 tá»«), vÃ  explicit Vietnamese relationship values. AI giá» Ä‘Æ°á»£c hÆ°á»›ng dáº«n chi tiáº¿t hÆ¡n Ä‘á»ƒ generate complete NPC data.' },
      { type: 'feature', text: 'Enhanced Custom Rules Integration - Cáº£i tiáº¿n logic custom rules trong generateInitialStory Ä‘á»ƒ AI sá»­ dá»¥ng cáº£ rules cÃ³ "Active" VÃ€ "Always Active" Ä‘Æ°á»£c check (thay vÃ¬ OR logic). Custom rules giá» tÃ¡c Ä‘á»™ng máº¡nh hÆ¡n vÃ o cÃ¢u chuyá»‡n khá»Ÿi Ä‘áº§u vá»›i logic AND requirement.' },
      { type: 'feature', text: 'Lore Concept Generation Progress Display - ThÃªm loreConcepts prop vÃ o InitializationProgress component Ä‘á»ƒ hiá»ƒn thá»‹ real-time cÃ¡c lore concepts Ä‘Æ°á»£c táº¡o ra. Progress bar giá» show count vÃ  preview description (60 chars) cá»§a generated concepts vá»›i scrollable UI.' },
      { type: 'improvement', text: 'Re-enabled Lore Concept Generation - KhÃ´i phá»¥c lore concept generation step trong startNewGame function (trÆ°á»›c Ä‘Ã¢y bá»‹ disable). Game initialization giá» táº¡o lore concepts tá»« active custom rules trÆ°á»›c khi generate initial story, cung cáº¥p context phong phÃº hÆ¡n cho AI.' },
      { type: 'technical', text: 'React 19 Static Flag Compliance - Sá»­a React warnings vá» missing static flags trong MemoizedModals.tsx báº±ng cÃ¡ch wrap EnhancedCustomRulesModal vÃ  MapModal vá»›i React.memo() vÃ  thÃªm displayName properties. Cáº£i thiá»‡n performance vÃ  development experience.' },
      { type: 'technical', text: 'Modal Component Memoization - Refactor EnhancedCustomRulesModal vÃ  MapModal tá»« direct exports sang memoized components vá»›i proper TypeScript typing. ThÃªm displayName cho React DevTools vÃ  cáº£i thiá»‡n re-render performance.' },
    ],
  },
  {
    version: '1.48.0',
    date: '2025-08-30',
    changes: [
      { type: 'feature', text: 'Mobile NPC Presence Access - ThÃªm floating button trÃªn mobile UI Ä‘á»ƒ truy cáº­p NPC Presence tab. Button mÃ u xanh vá»›i icon NPC Ä‘Æ°á»£c Ä‘áº·t phÃ­a trÃªn inventory button, má»Ÿ MobileNPCPresenceModal vá»›i slide-up animation vÃ  responsive design tá»‘i Æ°u cho Ä‘iá»‡n thoáº¡i.' },
      { type: 'feature', text: 'Mobile NPC Presence Modal - Modal chuyÃªn biá»‡t cho mobile hiá»ƒn thá»‹ táº¥t cáº£ NPCs hiá»‡n diá»‡n vá»›i thÃ´ng tin chi tiáº¿t: tÃªn, tuá»•i, giá»›i tÃ­nh, ngoáº¡i hÃ¬nh, má»‘i quan há»‡. Inner thoughts Ä‘Æ°á»£c hiá»ƒn thá»‹ trong collapsible spoiler format vá»›i styling mÃ u tÃ­m. NPCs má»›i cÃ³ badge "Má»›i" mÃ u vÃ ng.' },
      { type: 'feature', text: 'AI-Powered NPC Auto-Removal System - Implement BÆ¯á»šC 3B enhancement trong COT system: "LOáº I Bá» NPCs KHÃ”NG HOáº T Äá»˜NG". AI tá»± Ä‘á»™ng phÃ¢n tÃ­ch 3 lÆ°á»£t gáº§n nháº¥t vÃ  loáº¡i bá» NPCs khÃ´ng cÃ³ dialogue/action, giá»¯ láº¡i NPCs quan trá»ng cho cá»‘t truyá»‡n. Transparent logging trong COT reasoning.' },
      { type: 'improvement', text: 'Enhanced NPC Detection Instructions - COT prompt Ä‘Æ°á»£c cáº£i tiáº¿n vá»›i QUY Táº®C 3 LÆ¯á»¢T: NPCs bá»‹ loáº¡i náº¿u chá»‰ xuáº¥t hiá»‡n thá»¥ Ä‘á»™ng (Ä‘Æ°á»£c nháº¯c Ä‘áº¿n) mÃ  khÃ´ng tÆ°Æ¡ng tÃ¡c. CÃ³ ngoáº¡i lá»‡ cho NPCs Ä‘ang trong conversation hoáº·c story-critical. AI pháº£i document removed NPCs vÃ  lÃ½ do trong COT reasoning.' },
      { type: 'fix', text: 'NPC Inner Thoughts Parsing Fix - Sá»­a lá»—i inner thoughts khÃ´ng hiá»ƒn thá»‹ cho existing NPCs (nhÆ° Tony Tony Chopper). Thay Ä‘á»•i logic tá»« "skip duplicates" thÃ nh "merge inner thoughts" trong StatusPanel.tsx. Existing entity NPCs giá» nháº­n inner thoughts tá»« AI response thay vÃ¬ hiá»ƒn thá»‹ "KhÃ´ng cÃ³ suy nghÄ© nÃ o Ä‘Æ°á»£c táº¡o."' },
      { type: 'technical', text: 'NPC Presence Modal State Management - ThÃªm isNPCPresenceModalOpen state vÃ o useModalState hook, cáº­p nháº­t MemoizedModals interface vÃ  rendering logic. GameScreen.tsx truyá»n Ä‘áº§y Ä‘á»§ props cho mobile functionality. Build system verified error-free.' },
      { type: 'technical', text: 'Cross-Platform NPC Data Consistency - Mobile modal sá»­ dá»¥ng inner_thoughts field (underscore format) trá»±c tiáº¿p tá»« AI response, desktop StatusPanel merge vÃ o innerThoughts field (camelCase). Äáº£m báº£o consistent experience across platforms vá»›i proper field mapping.' },
    ],
  },
  {
    version: '1.47.0',
    date: '2025-08-28',
    changes: [
      { type: 'feature', text: 'Enhanced Chain of Thought (COT) System - Triá»ƒn khai há»‡ thá»‘ng COT reasoning hoÃ n chá»‰nh vá»›i JSON field integration. AI giá» báº¯t buá»™c pháº£i cung cáº¥p suy nghÄ© tá»«ng bÆ°á»›c trong field "cot_reasoning" thay vÃ¬ external tags, tÆ°Æ¡ng thÃ­ch vá»›i Gemini API application/json constraints.' },
      { type: 'feature', text: 'COT Research Logging to Save File - ThÃªm comprehensive logging system lÆ°u trá»¯ AI reasoning patterns vÃ o save file. Má»—i AI response Ä‘Æ°á»£c phÃ¢n tÃ­ch vÃ  log vá»›i turn number, timestamp, user action, COT content, performance metrics, vÃ  response quality scores cho research vÃ  debugging.' },
      { type: 'feature', text: 'Advanced COT Step for Choice Generation - Bá»• sung BÆ¯á»šC 4B: "THIáº¾T Káº¾ Lá»°A CHá»ŒN THEO YÃŠU Cáº¦U" vÃ o COT prompt, yÃªu cáº§u AI phÃ¢n tÃ­ch systematic cho choice diversity (7-9 categories), asset utilization, story progression, character consistency, vÃ  formatting requirements.' },
      { type: 'improvement', text: 'Triple-Layer COT Instructions - Implement 3-tier instruction system: (1) Critical priority instructions táº¡i Ä‘áº§u prompt, (2) Advanced COT reasoning section vá»›i detailed steps, (3) Final urgency reminders táº¡i cuá»‘i prompt vá»›i visual cues (ğŸš¨ğŸ”¥) Ä‘á»ƒ Ä‘áº£m báº£o AI compliance.' },
      { type: 'improvement', text: 'Real-time COT Monitoring - Console logs hiá»ƒn thá»‹ AI reasoning process real-time vá»›i extraction status, content preview, vÃ  detection confirmation. Users cÃ³ thá»ƒ monitor AI thinking process trong browser console trong khi story panel váº«n clean.' },
      { type: 'technical', text: 'JSON Schema Integration - Response schema Ä‘Æ°á»£c má»Ÿ rá»™ng vá»›i mandatory "cot_reasoning" field, extractCOTReasoning function Æ°u tiÃªn JSON field detection, vÃ  parseApiResponseHandler tá»± Ä‘á»™ng extract + log COT content tá»« structured response.' },
      { type: 'technical', text: 'Game State COT Integration - cotResearchLog Ä‘Æ°á»£c thÃªm vÃ o GameState interface, useGameState hook, vÃ  save file structure. Bao gá»“m setCotResearchLog setter, updateCOTResearchLog callback, vÃ  automatic save file inclusion vá»›i 100-entry limit Ä‘á»ƒ prevent bloat.' },
      { type: 'fix', text: 'PC Location Update in COT - Fixed PC location not updating correctly in Chain of Thought section. Added party synchronization to LORE_PC command processor Ä‘á»ƒ ensure location changes via AI tags Ä‘Æ°á»£c reflect trong COT prompt data.' },
    ],
  },
  {
    version: '1.46.1',
    date: '2025-08-26',
    changes: [
      { type: 'feature', text: 'Max Active History Entries Setting - ThÃªm slider cÃ i Ä‘áº·t "Sá»‘ lÆ°á»£ng lá»‹ch sá»­ tá»‘i Ä‘a" trong GameSettingsModal Ä‘á»ƒ ngÆ°á»i chÆ¡i tá»± Ä‘iá»u chá»‰nh sá»‘ má»¥c lá»‹ch sá»­ Ä‘Æ°á»£c giá»¯ láº¡i trong bá»™ nhá»› hoáº¡t Ä‘á»™ng (50-500 entries, máº·c Ä‘á»‹nh 100). Slider Ä‘Æ°á»£c Ä‘áº·t dÆ°á»›i checkbox "Tá»± Ä‘á»™ng nÃ©n lá»‹ch sá»­" vÃ  káº¿t ná»‘i trá»±c tiáº¿p vá»›i UnifiedMemoryManager.' },
      { type: 'improvement', text: 'Customizable Memory Management - UnifiedMemoryManager giá» sá»­ dá»¥ng cÃ i Ä‘áº·t maxActiveHistoryEntries tá»« GameSettings thay vÃ¬ giÃ¡ trá»‹ hardcoded 100. Cho phÃ©p ngÆ°á»i chÆ¡i tá»‘i Æ°u hÃ³a hiá»‡u suáº¥t game theo nhu cáº§u: giÃ¡ trá»‹ tháº¥p (50-80) Ä‘á»ƒ tiáº¿t kiá»‡m memory, giÃ¡ trá»‹ cao (200-500) Ä‘á»ƒ giá»¯ context chi tiáº¿t hÆ¡n.' },
      { type: 'technical', text: 'Settings Integration - Cáº­p nháº­t GameSettings interface vá»›i maxActiveHistoryEntries property, thÃªm vÃ o DEFAULT_SETTINGS, vÃ  hiá»ƒn thá»‹ trong "CÃ i Ä‘áº·t hiá»‡n táº¡i" section. GameScreen.tsx truyá»n custom cleanup config vá»›i user setting tá»›i coordinatedCleanup method thay vÃ¬ dÃ¹ng default config.' },
    ],
  },
  {
    version: '1.46.0',
    date: '2025-08-25',
    changes: [
      { type: 'feature', text: 'AI-Response-Only History System - Triá»ƒn khai há»‡ thá»‘ng lá»‹ch sá»­ conversation tá»‘i Æ°u hÃ³a vá»›i AI-Response-Only approach. Thay vÃ¬ lÆ°u trá»¯ toÃ n bá»™ user prompts (chá»©a RAG context), chá»‰ trÃ­ch xuáº¥t story continuity tá»« AI responses, tiáº¿t kiá»‡m 91.7% tokens trong history context (tá»« 5,090 â†’ 420 tokens).' },
      { type: 'feature', text: 'Dual-Layer History Optimization - Implement tá»‘i Æ°u hÃ³a 2 táº§ng: (1) Prompt Building Level - buildSmartHistoryContext chá»‰ xá»­ lÃ½ AI responses, tÄƒng lookback tá»« 1 â†’ 4 entries; (2) Storage Level - gameHistory chá»‰ lÆ°u essential user actions thay vÃ¬ full RAG prompts, giáº£m 94.8% storage per entry.' },
      { type: 'feature', text: 'Enhanced Story Continuity Extraction - ThÃªm extractStoryContinuity() vÃ  extractStateChanges() methods Ä‘á»ƒ trÃ­ch xuáº¥t thÃ´ng tin quan trá»ng tá»« AI responses: key story events, game state changes (skills, quests, locations), vÃ  essential narrative elements Ä‘á»ƒ duy trÃ¬ story flow mÃ  khÃ´ng cáº§n user prompts.' },
      { type: 'improvement', text: 'Massive Token Budget Liberation - History context giá» chá»‰ tiÃªu tá»‘n ~1k tokens thay vÃ¬ 15k tokens, giáº£i phÃ³ng 14k tokens cho entities, custom rules, world info, vÃ  context khÃ¡c. Cho phÃ©p tÄƒng cÆ°á»ng RAG system vÃ  rule activation mÃ  khÃ´ng vÆ°á»£t quÃ¡ 90k token limit.' },
      { type: 'improvement', text: 'Optimized Save File Performance - Save files giáº£m tá»« 30MB+ xuá»‘ng ~2MB (95% reduction), load/save nhanh hÆ¡n Ä‘Ã¡ng ká»ƒ, memory usage tháº¥p hÆ¡n. GameHistory entries tá»« 1,468 tokens â†’ 77 tokens má»—i user action, overall conversation savings 67.8% cho 10 turns.' },
      { type: 'technical', text: 'gameActionHandlers.ts Storage Separation - TÃ¡ch riÃªng API history (full context cho AI quality) vÃ  storage history (optimized entries). AI váº«n nháº­n Ä‘áº§y Ä‘á»§ context khi generate, nhÆ°ng gameHistory chá»‰ lÆ°u "ACTION: [user_action]" format thay vÃ¬ massive RAG prompts.' },
      { type: 'fix', text: 'NPC Information Reset/Duplication Prevention - Fixed critical issue where AI recreated existing NPCs, causing information loss. LORE_NPC tags now merge with existing entities instead of overwriting, preserving referenceId, skills, vÃ  accumulated data. Added anti-duplication warnings trong AI context.' },
      { type: 'fix', text: 'Enhanced Entity Deduplication System - Triá»ƒn khai intelligent entity merging cho NPCs vÃ  locations. System now preserves existing reference IDs, relationships, vÃ  character development while allowing AI to update/enhance entity information naturally.' },
      { type: 'improvement', text: 'Anti-Recreation Context Warnings - ThÃªm "âš ï¸ THá»°C THá»‚ ÄÃƒ Tá»’N Táº I - KHÃ”NG Táº O Láº I" warnings trong AI prompts vá»›i danh sÃ¡ch existing entities. GiÃºp AI aware vá» existing characters vÃ  sá»­ dá»¥ng ENTITY_UPDATE thay vÃ¬ LORE_NPC cho character development.' },
    ],
  },
  {
    version: '1.45.0',
    date: '2025-08-19',
    changes: [
      { type: 'feature', text: 'Desktop UI Redesign vá»›i Combined Story Panel - Thiáº¿t káº¿ láº¡i hoÃ n toÃ n giao diá»‡n desktop vá»›i CombinedStoryPanel má»›i káº¿t há»£p story display (60% phÃ­a trÃªn) vÃ  action choices (40% phÃ­a dÆ°á»›i) thÃ nh má»™t cá»­a sá»• chÃ­nh. Layout Ä‘Æ°á»£c tá»‘i Æ°u hÃ³a theo tá»· lá»‡ 60:40 (story:status) Ä‘á»ƒ tá»‘i Ä‘a hÃ³a khÃ´ng gian Ä‘á»c cÃ¢u chuyá»‡n.' },
      { type: 'feature', text: 'Integrated StatusPanel vá»›i Tabbed Interface - Táº¡o StatusPanel thay tháº¿ cho Action Panel vá»›i 3 tabs chÃ­nh: "ğŸ‘¤ NhÃ¢n váº­t" (thÃ´ng tin PC Ä‘áº§y Ä‘á»§ nhÆ° PlayerCharacterSheet), "ğŸ¤ Äá»“ng Ä‘á»™i" (party members), vÃ  "ğŸ“‹ Nhiá»‡m vá»¥" (quest tracking). TÃ­ch há»£p hoÃ n toÃ n thÃ´ng tin character sheet bao gá»“m stats, appearance, realm, experience, fame, personality, MBTI, motivation, skills, statuses vÃ  inventory.' },
      { type: 'feature', text: 'Comprehensive Character Information Display - StatusPanel hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ thÃ´ng tin nhÆ° original PlayerCharacterSheet: basic info (name, gender, age, location, appearance), enhanced stats (realm vá»›i color highlighting, experience vá»›i number formatting, fame vá»›i color-coded levels), personality traits (external/MBTI/motivation), skills system (learned skills vÃ  regular skills), current statuses vá»›i duration, vÃ  inventory management.' },
      { type: 'improvement', text: 'Streamlined Header Interface - Loáº¡i bá» cÃ¡c buttons PlayerCharacterSheet, Party, vÃ  Quests khá»i desktop header vÃ  sidebar navigation. Chá»‰ giá»¯ láº¡i essential controls trong header, táº¡o interface sáº¡ch sáº½ hÆ¡n vá»›i viá»‡c truy cáº­p thÃ´ng tin player Ä‘Æ°á»£c tÃ­ch há»£p vÃ o StatusPanel.' },
      { type: 'improvement', text: 'Preserved Mobile Experience - Giá»¯ nguyÃªn hoÃ n toÃ n mobile UI experience vá»›i original StoryPanel vÃ  ActionPanel layout. Mobile users tiáº¿p tá»¥c sá»­ dá»¥ng design Ä‘Æ°á»£c yÃªu thÃ­ch vá»›i functionality Ä‘áº§y Ä‘á»§, trong khi desktop users Ä‘Æ°á»£c hÆ°á»Ÿng lá»£i tá»« layout má»›i Ä‘Æ°á»£c tá»‘i Æ°u hÃ³a.' },
      { type: 'improvement', text: 'Responsive Design System - Implement dual-layout system vá»›i mobile layout (grid-based vá»›i original components) vÃ  desktop layout (flexbox-based vá»›i combined components). Seamless responsive behavior khÃ´ng cÃ³ conflicts giá»¯a hai layouts, Ä‘áº£m báº£o optimal experience trÃªn má»i device size.' },
      { type: 'technical', text: 'Component Architecture Refactoring - Táº¡o CombinedStoryPanel component káº¿t há»£p StoryPanel vÃ  ActionPanel functionality vá»›i virtual scrolling, interactive text support, vÃ  action handling. StatusPanel component vá»›i tabbed interface, comprehensive character display, vÃ  proper state management cho character/party/quest information.' },
      { type: 'feature', text: 'Floating Drop-up Choices Panel - Thay tháº¿ fixed bottom choices section báº±ng elegant floating dropdown panel. Choices panel hiá»‡n lÃ  collapsible drop-up tá»« bottom vá»›i toggle button hiá»ƒn thá»‹ sá»‘ lÆ°á»£ng choices available, smooth animations, vÃ  auto-collapse sau khi chá»n action. Tá»‘i Æ°u hÃ³a screen real estate cho story content.' },
      { type: 'improvement', text: 'Enhanced Choice Panel Visibility - Cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ contrast vÃ  readability cá»§a choice panel vá»›i dark slate background (slate-900/95), stronger borders, improved text contrast (text-white), enhanced number badges vá»›i shadow effects, vÃ  better hover states cho optimal readability.' },
      { type: 'improvement', text: 'Separated Floating Choice Panel - TÃ¡ch FloatingChoicePanel thÃ nh component riÃªng biá»‡t vÃ  Ä‘áº·t á»Ÿ vá»‹ trÃ­ tá»‘i Æ°u Ä‘á»ƒ khÃ´ng che khuáº¥t ná»™i dung story. Panel Ä‘Æ°á»£c positioned outside cá»§a story container, Ä‘áº£m báº£o text visibility hoÃ n toÃ n trong khi váº«n maintain easy access to choices.' },
      { type: 'fix', text: 'Story Panel vÃ  Status Panel Scrolling Functionality - Kháº¯c phá»¥c hoÃ n toÃ n lá»—i scrolling bá»‹ broken trong cáº£ CombinedStoryPanel vÃ  StatusPanel. Fixed CSS constraints báº±ng cÃ¡ch remove `overflow-hidden`, thÃªm `min-h-0` cho flex containers, vÃ  thay `overflow-hidden` báº±ng `h-full` Ä‘á»ƒ enable proper scroll behavior. Updated container height calculation vÃ  layout structure Ä‘á»ƒ restore full scrolling functionality.' },
      { type: 'technical', text: 'Enhanced Layout Management - Implement flexbox-based desktop layout vá»›i precise 60%/40% proportions thay vÃ¬ grid system. Mobile layout sá»­ dá»¥ng original grid system, desktop layout sá»­ dá»¥ng flexbox cho better control over proportions vÃ  responsive behavior.' },
    ],
  },
  {
    version: '1.44.0',
    date: '2025-08-17',
    changes: [
      { type: 'feature', text: 'SillyTavern-Compatible Advanced Rule Activation System - Triá»ƒn khai hoÃ n chá»‰nh há»‡ thá»‘ng kÃ­ch hoáº¡t luáº­t dá»±a trÃªn keyword matching tÆ°Æ¡ng thÃ­ch vá»›i SillyTavern World Info. Há»— trá»£ primary/secondary keywords, logic operators (AND_ANY, AND_ALL, NOT_ALL, NOT_ANY), priority system, case sensitivity, whole word matching, vÃ  phrase keyword support vá»›i [brackets] vÃ  "quotes".' },
      { type: 'feature', text: 'Enhanced CustomRule Interface vá»›i Professional Features - Má»Ÿ rá»™ng CustomRule vá»›i 15+ fields má»›i: keywords, secondaryKeywords, logic, order, probability, maxActivationsPerTurn, scanDepth, scanPlayerInput/scanAIOutput/scanMemories/scanEntities, tokenWeight, tokenPriority, caseSensitive, matchWholeWords, activationCount, lastActivated, createdAt, vÃ  category system.' },
      { type: 'feature', text: 'RuleActivationEngine - Sophisticated Keyword Matching - Core engine xá»­ lÃ½ keyword matching vá»›i phrase support, context scanning across player input/AI output/memories/entities, probability-based activation, priority ordering, activation frequency limits, vÃ  comprehensive debugging system. Há»— trá»£ token budget management vÃ  overflow protection.' },
      { type: 'feature', text: 'Enhanced CustomRulesModal vá»›i Simple/Advanced Modes - UI hoÃ n toÃ n má»›i vá»›i Simple Mode (basic editing) vÃ  Advanced Mode (full SillyTavern features). Advanced mode bao gá»“m keyword management, logic selection, priority settings, activation controls, scan targets, token management, vÃ  category organization vá»›i professional styling.' },
      { type: 'feature', text: 'SillyTavern WorldInfo Import System - ThÃªm "Import WorldInfo" button trong CustomRulesModal Advanced Mode vÃ  CreateWorld menu. Tá»± Ä‘á»™ng convert SillyTavern WorldInfo entries thÃ nh enhanced custom rules vá»›i full field mapping: commentâ†’title, contentâ†’content, keyâ†’keywords, keysecondaryâ†’secondaryKeywords, selectiveLogicâ†’logic, orderâ†’order, probabilityâ†’probability, depthâ†’scanDepth, caseSensitiveâ†’caseSensitive, matchWholeWordsâ†’matchWholeWords, disableâ†’isActive (inverted), groupâ†’category.' },
      { type: 'feature', text: 'Phrase Keyword Support vá»›i Advanced Parsing - Há»— trá»£ phrase keywords vá»›i [brackets] vÃ  "quotes" format. Keywords nhÆ° [gá»i Ä‘iá»‡n thoáº¡i] hoáº·c "siÃªu nÄƒng lá»±c" Ä‘Æ°á»£c treat as single units. Advanced parsing system with comma separation, quote/bracket handling, vÃ  real-time keyword display trong UI.' },
      { type: 'feature', text: 'Professional Rule Management System - Comprehensive rule helpers vá»›i createDefaultRule(), validateRule(), sortByPriority(), migrateLegacyRule(), exportRulesToJSON(), importRulesFromJSON(). Category system vá»›i display names (âš”ï¸ Chiáº¿n Ä‘áº¥u, ğŸ‘¥ XÃ£ há»™i, ğŸ—ºï¸ KhÃ¡m phÃ¡, ğŸŒ WorldInfo, etc.), rule statistics tracking, vÃ  professional workflows.' },
      { type: 'improvement', text: 'Token-Optimized Prompt Building - TÃ­ch há»£p RuleActivationEngine vÃ o promptBuilder.ts vá»›i intelligent rule selection dá»±a trÃªn context relevance, priority ordering, token budget management, vÃ  activation frequency tracking. Chá»‰ activate rules thá»±c sá»± relevant Ä‘á»ƒ optimize token usage.' },
      { type: 'improvement', text: 'Advanced UI/UX vá»›i Glass-Morphism Design - Enhanced CustomRulesModal vá»›i gradient backgrounds, glass-morphism effects, responsive design, touch-friendly controls, real-time keyword parsing, live validation feedback, professional color schemes (purple gradients), vÃ  mobile optimization.' },
      { type: 'improvement', text: 'Comprehensive Rule Statistics vÃ  Analytics - Tracking system cho rule performance: activationCount, lastActivated timestamps, success rates, token consumption, category distribution. Debug console vá»›i detailed activation logs, context analysis, vÃ  performance metrics.' },
      { type: 'improvement', text: 'Professional Category Organization System - 9 built-in categories vá»›i emoji icons vÃ  Vietnamese labels: Tá»•ng quÃ¡t, Chiáº¿n Ä‘áº¥u, XÃ£ há»™i, KhÃ¡m phÃ¡, Cá»‘t truyá»‡n, Váº­t pháº©m, Ká»¹ nÄƒng, Tháº¿ giá»›i, WorldInfo. Category filtering, batch operations, vÃ  visual organization trong UI.' },
      { type: 'improvement', text: 'Replaced Character Card Import vá»›i WorldInfo Import - HoÃ n toÃ n thay tháº¿ character card import functionality trong CreateWorld menu báº±ng WorldInfo import. Removed táº¥t cáº£ character card related code, updated button text thÃ nh "Nháº­p WorldInfo", vÃ  streamlined import workflow cho SillyTavern compatibility.' },
      { type: 'technical', text: 'RuleActivationEngine Architecture - Sophisticated engine vá»›i ActivationContext interface, ActivationResult system, checkKeywordMatch() vá»›i phrase support, processRules() vá»›i priority ordering, token budget tracking, activation frequency management, vÃ  comprehensive debugging framework.' },
      { type: 'technical', text: 'Enhanced Type System - Comprehensive TypeScript interfaces: CustomRule, RuleLogic enum, ActivationContext, ActivationResult, WordInfoEntry. Full type safety across rule management, import/export, UI components, vÃ  activation engine vá»›i strict typing vÃ  validation.' },
      { type: 'technical', text: 'Advanced Import/Export System - Professional data handling vá»›i validation, error recovery, ID conflict resolution, backward compatibility vá»›i legacy formats, metadata preservation, version tracking, vÃ  comprehensive error reporting. Support cho both RPG AI Simulator formats vÃ  SillyTavern WorldInfo format.' },
      { type: 'technical', text: 'Optimized Performance Architecture - Efficient keyword matching algorithms, memoized context processing, debounced UI updates, intelligent re-rendering, memory-optimized rule storage, vÃ  batch processing capabilities. Designed Ä‘á»ƒ handle large rule sets (100+ rules) without performance degradation.' },
      { type: 'fix', text: 'Rule Import Error Handling - Comprehensive error handling cho malformed files, invalid JSON, missing fields, type mismatches, vÃ  network issues. User-friendly error messages, partial import support, vÃ  automatic data cleanup to prevent crashes.' },
      { type: 'fix', text: 'Keyword Input Improvements - Fixed spacebar vÃ  comma input issues trong keyword fields. Enhanced input handling vá»›i proper state management, real-time parsing, cursor position preservation, vÃ  IME compatibility cho Vietnamese input.' },
    ],
  },
  {
    version: '1.43.0',
    date: '2025-08-12',
    changes: [
      { type: 'feature', text: 'SillyTavern-Compatible Regex System - ThÃªm há»‡ thá»‘ng regex processing máº¡nh máº½ tÆ°Æ¡ng thÃ­ch vá»›i SillyTavern. Há»— trá»£ placement-based rule execution (Player Input, AI Output, Memory Processing), macro substitution ({{char}}, {{user}}, {{turn}}), vÃ  find/replace operations vá»›i regex hoáº·c literal strings. Accessible qua "ğŸ”§ Regex Manager" trong Game dropdown (desktop) hoáº·c sidebar menu (mobile).' },
      { type: 'feature', text: 'Regex Manager vá»›i Live Preview System - Interface quáº£n lÃ½ regex rules hoÃ n chá»‰nh vá»›i: rule editor cÃ³ syntax highlighting, live preview testing, placement selection (Player Input/AI Output/Memory), substitute mode options (Replace/Append/Prepend), macro system, vÃ  default RPG templates. Import/export functionality cho rule sharing vÃ  backup.' },
      { type: 'feature', text: 'Advanced Regex Processing Engine - Core engine thá»±c thi rules theo placement points: xá»­ lÃ½ player input trÆ°á»›c khi gá»­i AI, modify AI output trÆ°á»›c display, vÃ  process memory content khi storage. Há»— trá»£ macro substitution vá»›i real-time values, error handling, vÃ  performance optimization cho large rule sets.' },
      { type: 'feature', text: 'RPG-Optimized Default Templates - Cung cáº¥p sáºµn templates cho common RPG scenarios: combat text enhancement, dialogue formatting, stat display optimization, action text transformation, character name normalization, vÃ  immersive text processing. Ready-to-use templates accelerate setup cho RPG game masters.' },
      { type: 'improvement', text: 'Cross-Platform Regex Access - Regex Manager accessible tá»« cáº£ desktop interface (Game dropdown â†’ "ğŸ”§ Regex Manager") vÃ  mobile interface (sidebar menu). Consistent UI/UX across all devices vá»›i responsive design, touch-friendly controls, vÃ  proper modal management.' },
      { type: 'improvement', text: 'Comprehensive Error Handling vÃ  Crash Protection - Robust error boundaries protect against regex parsing errors, malformed rules, vÃ  runtime exceptions. Defensive programming vá»›i null checks, type validation, optional props, vÃ  graceful fallbacks ensure system stability. Backwards compatibility vá»›i existing save files.' },
      { type: 'fix', text: 'Desktop UI Missing Regex Manager Button - Fixed missing "Regex Manager" button trong desktop interface Game dropdown. Added onRegexManager prop to DesktopHeader component, connected handler tá»« GameScreen, vÃ  ensured consistent access across desktop vÃ  mobile platforms.' },
      { type: 'fix', text: 'ReferenceError handleSaveRegexRules Fix - Resolved critical "handleSaveRegexRules is not defined" error trong MemoizedModals component. Added missing prop destructuring, implemented defensive function vá»›i try-catch blocks, vÃ  ensured proper prop passing tá»« GameScreen to MemoizedModals.' },
      { type: 'technical', text: 'RegexEngine Architecture - Built comprehensive regex processing engine vá»›i placement-based execution logic, macro substitution system, rule priority handling, performance optimization, vÃ  extensive error handling. Supports complex regex patterns, literal string replacement, vÃ  dynamic content injection.' },
      { type: 'technical', text: 'Type Safety vÃ  State Management - Enhanced TypeScript interfaces cho RegexRule, RegexPlacement, RegexSubstituteMode vá»›i comprehensive prop interfaces. Integrated regex state vÃ o useGameState hook, useModalState management, vÃ  persistent save/load functionality vá»›i migration support.' },
    ],
  },
  {
    version: '1.42.0',
    date: '2025-08-12',
    changes: [
      { type: 'feature', text: 'SillyTavern Character Card Import System - ThÃªm tÃ­nh nÄƒng import character card tá»« SillyTavern vá»›i button "Táº£i Character Card" riÃªng biá»‡t. Tá»± Ä‘á»™ng trÃ­ch xuáº¥t ná»™i dung tá»« character_book.entries vÃ  chuyá»ƒn Ä‘á»•i thÃ nh custom rules. Há»— trá»£ cáº£ CreateWorld component vÃ  CustomRulesModal vá»›i validation format vÃ  error handling.' },
      { type: 'fix', text: 'Kháº¯c phá»¥c lá»—i Auto Memory Cleanup ngá»«ng hoáº¡t Ä‘á»™ng sau load save hoáº·c API errors - Sá»­a useEffect dependency array thiáº¿u gameSettings vÃ  state variables quan trá»ng. Enhanced hasGeneratedInitialStory initialization tá»« gameHistory.length thay vÃ¬ luÃ´n false. ThÃªm comprehensive logging Ä‘á»ƒ debug cleanup triggers vÃ  blocks.' },
      { type: 'improvement', text: 'Enhanced Custom Rules Import vá»›i dual format support - Giá»¯ nguyÃªn chá»©c nÄƒng import JSON rules truyá»n thá»‘ng, thÃªm Character Card import riÃªng biá»‡t vá»›i indigo color scheme. Smart content extraction tá»« character_book entries, unique ID generation, vÃ  success notifications hiá»ƒn thá»‹ sá»‘ lÆ°á»£ng rules imported.' },
      { type: 'improvement', text: 'Advanced Auto Cleanup Debug System - ThÃªm detailed logging cho cleanup blocking conditions vá»›i specific reasons (turnCount=0, no_initial_story, is_loading, empty_history, turn_already_cleaned). Enhanced cleanup trigger logging vá»›i memory/history counts vÃ  settings status.' },
      { type: 'technical', text: 'Character Card Parser Implementation - Validates SillyTavern character card structure (data.character_book.entries), extracts content fields, filters empty entries, generates unique rule IDs vá»›i character-card prefix, vÃ  handles ID conflicts vá»›i existing rules.' },
      { type: 'technical', text: 'Auto Cleanup Effect Dependency Optimization - Expanded useEffect dependencies tá»« [turnCount] thÃ nh comprehensive array bao gá»“m gameSettings, hasGeneratedInitialStory, memories, gameHistory, cleanupStats, vÃ  táº¥t cáº£ memory-related state Ä‘á»ƒ ensure proper reinitialization.' },
    ],
  },
  {
    version: '1.41.0',
    date: '2025-08-11',
    changes: [
      { type: 'feature', text: 'Triá»ƒn khai Unified Edit System hoÃ n chá»‰nh cho táº¥t cáº£ Entity types - NgÆ°á»i chÆ¡i giá» cÃ³ thá»ƒ chá»‰nh sá»­a trá»±c tiáº¿p thÃ´ng tin cá»§a Skills, NPCs, PCs, vÃ  Locations thÃ´ng qua cÃ¡c edit modals chuyÃªn dá»¥ng vá»›i giao diá»‡n thÃ¢n thiá»‡n vÃ  validation system.' },
      { type: 'feature', text: 'EditSkillModal vá»›i mastery dropdown system - Há»— trá»£ chá»‰nh sá»­a táº¥t cáº£ thuá»™c tÃ­nh skill bao gá»“m name, description, realm, element, skillType vá»›i mastery levels (Má»›i há»c, Báº­c nháº­p mÃ´n, ThÃ nh tháº¡o, Tinh thÃ´ng, Äáº¡i thÃ nh, ViÃªn mÃ£n, Cá»±c Ä‘áº¡i). Loáº¡i bá» location vÃ  owner fields theo feedback.' },
      { type: 'feature', text: 'EditNPCModal vá»›i comprehensive character editing - Chá»‰nh sá»­a Ä‘áº§y Ä‘á»§ thÃ´ng tin NPC bao gá»“m basic info (name, gender, age, appearance, location), character attributes (realm, fame, personality, motivation, MBTI), relationship dropdown vá»›i predefined options, vÃ  skills management vá»›i cursor position preservation.' },
      { type: 'feature', text: 'EditPCModal vá»›i MBTI personality integration - Chá»‰nh sá»­a Player Character vá»›i táº¥t cáº£ PC-specific fields bao gá»“m learned skills, MBTI personality dropdown, experience points, realm progression, vÃ  character development attributes vá»›i yellow color theme.' },
      { type: 'feature', text: 'EditLocationModal vá»›i safety status management - Chá»‰nh sá»­a Ä‘á»‹a Ä‘iá»ƒm vá»›i fields: name, parent location, safety status dropdown (tá»± Ä‘á»™ng update description), climate/environment, notable features, resources/economy, vÃ  inhabitants information vá»›i green color theme.' },
      { type: 'feature', text: 'Manual Status Deletion System - ThÃªm X buttons cho má»—i status trong PC vÃ  NPC EntityInfoModal. Players cÃ³ thá»ƒ manually delete bugged statuses vá»›i confirmation dialog, red X buttons xuáº¥t hiá»‡n on hover, vÃ  success notifications. Há»— trá»£ cho PC, NPC, vÃ  Companion entities.' },
      { type: 'improvement', text: 'Advanced cursor position preservation trong text inputs - Kháº¯c phá»¥c cursor jumping issue trong NPC skills field báº±ng cÃ¡ch implement temporary string fields (skillsText) chá»‰ convert thÃ nh array khi save, maintain cursor position during editing.' },
      { type: 'improvement', text: 'Unified modal state management system - TÃ­ch há»£p hoÃ n chá»‰nh táº¥t cáº£ edit modals vÃ o useModalState hook vá»›i proper state cleanup, modal close handlers, vÃ  React state management. Enhanced GameScreen integration vá»›i save handlers vÃ  success notifications.' },
      { type: 'improvement', text: 'Smart edit modal UI/UX design - Má»—i modal cÃ³ color scheme riÃªng biá»‡t (amber-skills, blue-NPCs, yellow-PC, green-locations), glass-morphism styling, proper form validation, responsive design, vÃ  consistent user experience across all entity types.' },
      { type: 'improvement', text: 'Enhanced EntityInfoModal vá»›i edit icons - ThÃªm pencil edit icons (âœï¸) trong header cá»§a táº¥t cáº£ entity info modals, proper permission checks, color-coded theo entity type, vÃ  seamless integration vá»›i edit modal system.' },
      { type: 'fix', text: 'Sá»­a lá»—i GameScreen component error "missing modal state variables" - ThÃªm isEditLocationModalOpen, activeEditLocation, setIsEditLocationModalOpen, setActiveEditLocation vÃ o modal state destructuring trong GameScreen.tsx, kháº¯c phá»¥c runtime errors.' },
      { type: 'fix', text: 'Kháº¯c phá»¥c cursor jumping trong skills textarea - Enhanced input handling vá»›i temporary text state, preserve cursor position during typing, chá»‰ parse thÃ nh array format khi save Ä‘á»ƒ trÃ¡nh input interruption.' },
      { type: 'fix', text: 'Smart status deletion vá»›i entity matching - Status deletion system correctly identifies statuses belonging to specific entities, handles PC status ownership properly (matches both entity name vÃ  "pc" owner), vÃ  prevents accidental deletion cá»§a wrong statuses.' },
      { type: 'technical', text: 'Comprehensive edit modal architecture - Created 4 specialized edit modals (EditSkillModal, EditNPCModal, EditPCModal, EditLocationModal) vá»›i shared patterns: two-parameter save handlers (original, edited), proper TypeScript interfaces, form validation, responsive design, vÃ  error handling.' },
      { type: 'technical', text: 'Advanced modal state integration - Updated useModalState.ts vá»›i all Location modal states, enhanced GameScreen.tsx vá»›i save handlers vÃ  prop passing, updated MemoizedModals.tsx vá»›i proper modal integration vÃ  component composition.' },
      { type: 'technical', text: 'Status deletion handler implementation - Created handleDeleteStatus vá»›i smart filtering logic, success notifications, console logging for debugging, vÃ  proper React state management. Integrated across EntityInfoModal â†’ GameScreen â†’ MemoizedModals component chain.' },
      { type: 'technical', text: 'Enhanced form handling vÃ  validation - All edit modals implement proper form state management, input validation, save/cancel logic, vÃ  data cleanup before saving. Support for both string vÃ  array fields vá»›i appropriate parsing.' },
    ],
  },
  {
    version: '1.40.0',
    date: '2025-08-06', 
    changes: [
      { type: 'fix', text: 'Kháº¯c phá»¥c hoÃ n toÃ n lá»—i Vietnamese IME composition - Sá»­a lá»—i "thaáº¡o" (diacritics khÃ´ng compose Ä‘Ãºng), cursor jumping khi nháº¥n spacebar, vÃ  spacebar khÃ´ng táº¡o space. Triá»ƒn khai intelligent IME handling vá»›i isComposing state, onCompositionStart/End events, vÃ  optimized debounced input system.' },
      { type: 'fix', text: 'Sá»­a lá»—i UnifiedMemoryManager auto-cleanup ngá»«ng hoáº¡t Ä‘á»™ng sau initial cycles - Cáº£i thiá»‡n cleanup threshold logic tá»« simple comparison thÃ nh multi-condition triggers: over maxActive limit (45), over cleanup threshold (65), hoáº·c quÃ¡ nhiá»u low-importance memories (>10). Enhanced logging Ä‘á»ƒ track cleanup decisions.' },
      { type: 'fix', text: 'Kháº¯c phá»¥c lá»—i skill merging táº¡o duplicate skills - Enhanced intelligent skill merging system vá»›i space normalization, improved base skill extraction (remove parentheses, level modifiers, colons), smart level-based upgrade logic (Level 0-4), vÃ  case-insensitive duplicate detection Ä‘á»ƒ trÃ¡nh "Gou Gou No Mi" vs "Gou Gou no Mi".' },
      { type: 'improvement', text: 'ThÃªm comprehensive "HÆ°á»›ng Dáº«n Thiáº¿t Káº¿ NPC CÃ³ CÃ¡ TÃ­nh" vÃ o system instruction - 127 dÃ²ng hÆ°á»›ng dáº«n chi tiáº¿t giÃºp AI táº¡o NPCs khÃ´ng dá»… chinh phá»¥c vá»›i: nguyÃªn táº¯c cá»‘t lÃµi, trÃ¡nh NPCs "dá»… chinh phá»¥c", quan há»‡ xáº¥u vá»›i thÃ¡i Ä‘á»™ Ä‘á»‘i Ä‘á»‹ch, 4 archetypes tÃ­nh cÃ¡ch máº¡nh máº½, áº£nh hÆ°á»Ÿng MBTI, 7 vÃ­ dá»¥ thá»±c táº¿, vÃ  quy táº¯c xá»­ lÃ½ xung Ä‘á»™t.' },
      { type: 'improvement', text: 'Enhanced skill merging vá»›i smart upgrade detection - Triá»ƒn khai 5-level skill system (0: no modifier, 1: sÆ¡ cáº¥p/cÆ¡ báº£n, 2: trung cáº¥p, 3: cao cáº¥p/nÃ¢ng cao, 4: tá»‘i cao) vá»›i automatic upgrade replacement (Basic â†’ Advanced), rejection cá»§a downgrades, vÃ  detailed console logging Ä‘á»ƒ tracking merge operations.' },
      { type: 'improvement', text: 'Tá»‘i Æ°u Vietnamese input performance - Loáº¡i bá» useEffect dependency loops trong ActionPanel vÃ  MobileInputFooter (customAction, setCustomAction khá»i dependencies), implement useRef-based timeout management, vÃ  improved sync logic chá»‰ khi parent thá»±c sá»± thay Ä‘á»•i Ä‘á»ƒ eliminate keystroke-triggered re-renders.' },
      { type: 'technical', text: 'Advanced IME composition system - onCompositionStart sets isComposing=true Ä‘á»ƒ pause debounced updates, onCompositionEnd captures final composed value vÃ  resume normal input flow, enhanced input change handling chá»‰ update khi khÃ´ng Ä‘ang compose, preventive measures cho Enter key during composition.' },
      { type: 'technical', text: 'Skill base extraction algorithm - Multi-step normalization: space normalization â†’ parentheses removal â†’ level modifier removal â†’ colon content removal â†’ trim, vá»›i global regex flags Ä‘á»ƒ ensure complete cleaning vÃ  accurate base skill comparison.' },
      { type: 'technical', text: 'UnifiedMemoryManager threshold redesign - Chuyá»ƒn tá»« simple threshold check sang multi-condition cleanup triggers, enhanced logging vá»›i reason tracking, lowImportanceCount display trong debug output, vÃ  comprehensive cleanup decision transparency.' },
    ],
  },
  {
    version: '1.39.0',
    date: '2025-08-06',
    changes: [
      { type: 'fix', text: 'Kháº¯c phá»¥c lá»—i NPC skills bá»‹ parse thÃ nh PC skills - Enhanced SKILL_LEARNED command vá»›i learner parameter Ä‘á»ƒ phÃ¢n biá»‡t ká»¹ nÄƒng há»c bá»Ÿi NPC vs PC. ThÃªm intelligent detection system dá»±a trÃªn context Ä‘á»ƒ tá»± Ä‘á»™ng phÃ¢n loáº¡i ká»¹ nÄƒng khi thiáº¿u learner parameter.' },
      { type: 'fix', text: 'Loáº¡i bá» console spam tá»« inventory vÃ  entity export debug logs - XÃ³a bá» debug logs khÃ´ng cáº§n thiáº¿t trong GameScreen playerInventory computation vÃ  gameActionHandlers entity export Ä‘á»ƒ clean up console output.' },
      { type: 'fix', text: 'Kháº¯c phá»¥c lá»—i StoryPanel auto-scroll lÃ m giÃ¡n Ä‘oáº¡n viá»‡c Ä‘á»c - HoÃ n toÃ n disable auto-scroll behavior vÃ  simplify virtual scrolling system Ä‘á»ƒ story panel giá»¯ nguyÃªn vá»‹ trÃ­ scroll khi cÃ³ ná»™i dung má»›i, khÃ´ng cÃ²n random scroll up sau khi chá»n action.' },
      { type: 'fix', text: 'Sá»­a lá»—i PlayerCharacterSheet crash vá»›i "TypeError: t.map is not a function" - ThÃªm playerInventory property vÃ o MemoizedModalsProps interface Ä‘á»ƒ InventoryModal nháº­n Ä‘Ãºng dá»¯ liá»‡u inventory array thay vÃ¬ undefined.' },
      { type: 'fix', text: 'Kháº¯c phá»¥c z-index conflicts trong modal system - TÄƒng StatusDetailModal tá»« z-[90] lÃªn z-[110] vÃ  QuestDetailModal tá»« z-[85] lÃªn z-[105] Ä‘á»ƒ hiá»ƒn thá»‹ chÃ­nh xÃ¡c trÃªn EntityInfoModal (z-[100]).' },
      { type: 'fix', text: 'Sá»­a lá»—i "Cannot read properties of undefined (reading \'toString\')" trong FloatingTimeDisplay - ThÃªm comprehensive null/undefined checks vá»›i safe fallbacks cho táº¥t cáº£ gameTime properties (hour, minute, day, month, year).' },
      { type: 'fix', text: 'Kháº¯c phá»¥c input lag nghiÃªm trá»ng khi typing trong custom action - Triá»ƒn khai local state vá»›i debounced updates (300ms) cho ActionPanel vÃ  MobileInputFooter Ä‘á»ƒ ngÄƒn parent re-renders lÃ m cháº­m input, Ä‘á»“ng thá»i optimize inventory computation vá»›i signature-based memoization.' },
      { type: 'improvement', text: 'Enhanced SKILL_LEARNED command documentation - Cáº­p nháº­t prompt instructions vá»›i examples vÃ  warnings vá» viá»‡c sá»­ dá»¥ng learner parameter báº¯t buá»™c cho NPC skills, giÃºp AI generate tags chÃ­nh xÃ¡c hÆ¡n.' },
      { type: 'improvement', text: 'Optimized StoryPanel performance - Thay tháº¿ complex virtual scrolling vá»›i simplified layout Ä‘á»ƒ giáº£m computational overhead vÃ  improve scroll behavior stability.' },
      { type: 'improvement', text: 'Enhanced modal layering system - Thiáº¿t láº­p proper z-index hierarchy: Base modals (60-70), EntityInfoModal (100), QuestDetailModal (105), StatusDetailModal (110), EditItemModal (110).' },
      { type: 'technical', text: 'Advanced inventory computation optimization - ThÃªm itemsSignature-based caching Ä‘á»ƒ chá»‰ recompute inventory khi items thá»±c sá»± thay Ä‘á»•i, ngÄƒn unnecessary filtering operations block main thread during typing.' },
      { type: 'technical', text: 'Comprehensive input performance optimization - Local state management vá»›i useCallback handlers vÃ  debounced parent state sync Ä‘á»ƒ eliminate keystroke-triggered re-renders across component tree.' },
      { type: 'technical', text: 'Intelligent NPC skill detection system - Context-based parsing Ä‘á»ƒ tá»± Ä‘á»™ng detect skill ownership khi thiáº¿u explicit learner parameter, vá»›i fallback logic vÃ  comprehensive logging.' },
    ],
  },
  {
    version: '1.38.1',
    date: '2025-08-05',
    changes: [
      { type: 'feature', text: 'ThÃªm nÃºt "CHá»ˆNH Sá»¬A" cho váº­t pháº©m trong TÃºi Äá»“ - Cho phÃ©p ngÆ°á»i chÆ¡i chá»‰nh sá»­a trá»±c tiáº¿p thÃ´ng tin váº­t pháº©m (tÃªn, mÃ´ táº£, sá»‘ lÆ°á»£ng, Ä‘á»™ bá»n, thuá»™c tÃ­nh cÃ³ thá»ƒ sá»­ dá»¥ng/trang bá»‹) thÃ´ng qua EditItemModal chuyÃªn dá»¥ng.' },
      { type: 'feature', text: 'Triá»ƒn khai EditItemModal vá»›i giao diá»‡n chá»‰nh sá»­a toÃ n diá»‡n - Há»— trá»£ chá»‰nh sá»­a táº¥t cáº£ thuá»™c tÃ­nh váº­t pháº©m bao gá»“m name, description, quantities/uses, durability, vÃ  cÃ¡c boolean properties (usable, equippable, learnable, consumable, equipped).' },
      { type: 'fix', text: 'Kháº¯c phá»¥c lá»—i z-index layering - EntityInfoModal bá»‹ che phá»§ bá»Ÿi InventoryModal khi má»Ÿ tá»« edit button. TÄƒng z-index cá»§a EntityInfoModal tá»« z-[80] lÃªn z-[100] Ä‘á»ƒ hiá»ƒn thá»‹ Ä‘Ãºng thá»© tá»±.' },
      { type: 'fix', text: 'Sá»­a lá»—i nghiÃªm trá»ng item editing táº¡o duplicate thay vÃ¬ cáº­p nháº­t - Cáº£i thiá»‡n handleSaveEditedItem Ä‘á»ƒ track original item name, remove old item khi rename, vÃ  update existing item Ä‘Ãºng cÃ¡ch thay vÃ¬ táº¡o má»›i.' },
      { type: 'improvement', text: 'Enhanced inventory management vá»›i edit capabilities - Edit button mÃ u tÃ­m xuáº¥t hiá»‡n cáº¡nh cÃ¡c nÃºt USE/EQUIP/DISCARD khi select item, tÃ­ch há»£p hoÃ n toÃ n vá»›i modal system vÃ  state management.' },
      { type: 'improvement', text: 'Smart item update system - Xá»­ lÃ½ cáº£ trÆ°á»ng há»£p rename item (xÃ³a item cÅ©, táº¡o item má»›i) vÃ  modify properties (update in-place) vá»›i proper notification system vÃ  modal cleanup.' },
      { type: 'technical', text: 'Comprehensive state management integration - ThÃªm isEditItemModalOpen, activeEditItem states, modal close handlers, vÃ  proper prop passing qua component hierarchy.' },
      { type: 'technical', text: 'Enhanced EditItemModal architecture - Two-parameter save handler (originalItem, editedItem), proper form validation, responsive design vá»›i glass-morphism styling, vÃ  full TypeScript integration.' },
    ],
  },
  {
    version: '1.38.0',
    date: '2025-08-05',
    changes: [
      { type: 'feature', text: 'ThÃªm há»— trá»£ phÃºt (minutes) cho há»‡ thá»‘ng thá»i gian game - Game time giá» hiá»ƒn thá»‹ chÃ­nh xÃ¡c phÃºt (8:45 thay vÃ¬ 8:00), TIME_ELAPSED command há»— trá»£ minutes parameter cho hÃ nh Ä‘á»™ng ngáº¯n nhÆ° mua sáº¯m (15 phÃºt) hoáº·c di chuyá»ƒn gáº§n (30-45 phÃºt).' },
      { type: 'feature', text: 'Cáº£i tiáº¿n há»‡ thá»‘ng Ká»¹ NÄƒng Khá»Ÿi Äáº§u - TÃ¡ch thÃ nh 2 trÆ°á»ng riÃªng biá»‡t (tÃªn ká»¹ nÄƒng vÃ  mÃ´ táº£), thÃªm nÃºt (+) Ä‘á»ƒ thÃªm nhiá»u ká»¹ nÄƒng khá»Ÿi Ä‘áº§u, nÃºt (-) Ä‘á»ƒ xÃ³a ká»¹ nÄƒng, layout responsive vá»›i grid system.' },
      { type: 'feature', text: 'ThÃªm láº¡i trÆ°á»ng Má»¥c TiÃªu (AddGoal) - Textbox má»›i trong CreateWorld dÆ°á»›i pháº§n Bio, cho phÃ©p ngÆ°á»i chÆ¡i Ä‘á»‹nh nghÄ©a má»¥c tiÃªu vÃ  Ä‘á»™ng lá»±c cá»§a nhÃ¢n váº­t, Ä‘Æ°á»£c lÆ°u vÃ o motivation field cá»§a PC entity.' },
      { type: 'feature', text: 'ThÃªm LORE_PC command tag - Cho phÃ©p AI táº¡o hoáº·c cáº­p nháº­t thÃ´ng tin Player Character trong gameplay, há»— trá»£ Ä‘áº§y Ä‘á»§ cÃ¡c thuá»™c tÃ­nh nhÆ° description, personality, motivation, realm, currentExp, vÃ  learnedSkills.' },
      { type: 'fix', text: 'Kháº¯c phá»¥c lá»—i game time ngá»«ng cáº­p nháº­t - Sá»­a lá»—i TIME_ELAPSED vá»›i hours=0 khÃ´ng trigger time update, giá» táº¥t cáº£ TIME_ELAPSED Ä‘á»u Ä‘Æ°á»£c xá»­ lÃ½ bÃ¬nh thÆ°á»ng ká»ƒ cáº£ instant actions.' },
      { type: 'fix', text: 'Kháº¯c phá»¥c lá»—i AddGoal bá»‹ AI ghi Ä‘Ã¨ - LORE_PC command giá» merge vá»›i existing PC data thay vÃ¬ overwrite hoÃ n toÃ n, báº£o tá»“n motivation field vÃ  cÃ¡c thuá»™c tÃ­nh quan trá»ng khÃ¡c Ä‘Æ°á»£c set trong character creation.' },
      { type: 'fix', text: 'Kháº¯c phá»¥c lá»—i starting skills khÃ´ng parse vÃ o PC - ThÃªm debug logging vÃ  xá»­ lÃ½ backward compatibility, starting skills giá» Ä‘Æ°á»£c thÃªm vÃ o PC learnedSkills vÃ  táº¡o skill entities trong knownEntities Ä‘Ãºng cÃ¡ch.' },
      { type: 'improvement', text: 'Cáº­p nháº­t system instruction vá»›i examples vá» minutes - AI giá» Ä‘Æ°á»£c hÆ°á»›ng dáº«n sá»­ dá»¥ng minutes cho cÃ¡c hÃ nh Ä‘á»™ng ngáº¯n (5-30 phÃºt), giÃºp thá»i gian game realistic hÆ¡n.' },
      { type: 'improvement', text: 'Enhanced time calculation logic - ThÃªm minute overflow handling (60 minutes = 1 hour), cáº£i thiá»‡n calculateNewTime function Ä‘á»ƒ xá»­ lÃ½ chÃ­nh xÃ¡c thá»i gian phá»©c táº¡p.' },
      { type: 'technical', text: 'Backward compatibility cho saved games - Game time structure má»›i tá»± Ä‘á»™ng thÃªm minute: 0 cho cÃ¡c save file cÅ©, khÃ´ng lÃ m máº¥t dá»¯ liá»‡u ngÆ°á»i chÆ¡i.' },
    ],
  },
  {
    version: '1.37.3',
    date: '2025-08-05',
    changes: [
      { type: 'feature', text: 'ThÃªm nÃºt TÃºi Ä‘á»“ (Inventory) cho mobile UI - Triá»ƒn khai floating action button vá»›i ChestIcon mÃ u amber, positioned above choices button, káº¿t ná»‘i vá»›i cÃ¹ng InventoryModal nhÆ° desktop.' },
      { type: 'improvement', text: 'Tá»‘i Æ°u hÃ³a InventoryModal cho mobile devices - Responsive grid layout (4 cols mobile, 6 tablet, 8 desktop), adaptive cell sizes, optimized button spacing vÃ  typography cho touch-friendly experience.' },
      { type: 'fix', text: 'Kháº¯c phá»¥c lá»—i inventory UI khÃ´ng update khi nháº·t items tá»« story - Enhanced inventory filtering vá»›i proper useMemo dependency tracking trÃªn knownEntities changes, Ä‘áº£m báº£o real-time inventory updates khi ITEM_AQUIRED tags Ä‘Æ°á»£c processed.' },
      { type: 'technical', text: 'Restructured inventory computation system - Moved playerInventory filtering tá»« inline MemoizedModals props sang entityComputations useMemo vá»›i proper knownEntities dependency, improved React rendering performance vÃ  state consistency.' },
      { type: 'improvement', text: 'Mobile inventory grid optimizations - Reduced tá»« 64 slots xuá»‘ng 48 slots, responsive min-height values (60px-80px), flexible button layouts vá»›i wrap support, vÃ  improved padding/spacing cho mobile screens.' },
    ],
  },
  {
    version: '1.37.2',
    date: '2025-08-04',
    changes: [
      { type: 'fix', text: 'Kháº¯c phá»¥c lá»—i Use button khÃ´ng hiá»ƒn thá»‹ cho usable items - Sá»­a type mismatch giá»¯a InventoryModal vÃ  item handlers, Ä‘áº£m báº£o usable items hiá»ƒn thá»‹ nÃºt "Sá»¬ Dá»¤NG" chÃ­nh xÃ¡c.' },
      { type: 'fix', text: 'Sá»­a lá»—i nghiÃªm trá»ng Enhanced RAG Error khi sá»­ dá»¥ng items - ThÃªm defensive programming vá»›i null checks cho gameState properties (party, knownEntities, memories) Ä‘á»ƒ trÃ¡nh crashes.' },
      { type: 'fix', text: 'Kháº¯c phá»¥c lá»—i discarded items váº«n hiá»ƒn thá»‹ trong inventory UI - Triá»ƒn khai direct handleDiscardItem function vÃ  ITEM_DISCARDED tag processor Ä‘á»ƒ xÃ³a items ngay láº­p tá»©c.' },
      { type: 'improvement', text: 'NÃ¢ng cáº¥p AdminPanel item creation system - Sá»­a ITEM_AQUIRED tag generation Ä‘á»ƒ sá»­ dá»¥ng quoted values cho boolean properties, Ä‘áº£m báº£o usable/equippable properties Ä‘Æ°á»£c parse chÃ­nh xÃ¡c.' },
      { type: 'improvement', text: 'Simplified item type system - Loáº¡i bá» redundant "consumable" property, chá»‰ giá»¯ láº¡i "usable" vÃ  "equippable" Ä‘á»ƒ trÃ¡nh confusion vÃ  duplicate functionality.' },
      { type: 'improvement', text: 'Enhanced item discard system - Direct inventory removal vá»›i story log confirmation, khÃ´ng cÃ²n phá»¥ thuá»™c vÃ o AI response Ä‘á»ƒ xá»­ lÃ½ viá»‡c vá»©t bá» items.' },
      { type: 'improvement', text: 'Updated AdminPanel UI - Loáº¡i bá» option "TiÃªu hao" (Consumable) khá»i dropdown, simplified thÃ nh 3 types: KhÃ¡c, CÃ³ thá»ƒ sá»­ dá»¥ng, CÃ³ thá»ƒ trang bá»‹.' },
      { type: 'technical', text: 'Comprehensive gameState null safety - Added optional chaining cho táº¥t cáº£ RAG systems (EnhancedRAG, ReferenceBasedRAG, SmartMemoryGenerator) Ä‘á»ƒ handle undefined properties gracefully.' },
      { type: 'technical', text: 'Item handler type safety improvements - Fixed parameter type mismatches giá»¯a InventoryModal (Entity objects) vÃ  entity handlers (string names) vá»›i proper wrapper functions.' },
      { type: 'technical', text: 'Enhanced tag processing system - ITEM_AQUIRED tag giá» support quoted boolean values vÃ  proper attribute parsing cho AdminPanel-generated items.' },
      { type: 'improvement', text: 'Item quantity system modernization - Chuyá»ƒn Ä‘á»•i tá»« "uses" sang "quantities" property throughout system: AdminPanel UI, Entity interface, tag processing, inventory display, vÃ  AI system instruction.' },
      { type: 'fix', text: 'Items now properly removed when quantities reach 0 - Enhanced ITEM_CONSUMED logic Ä‘á»ƒ delete items khi quantities <= 0, support both legacy "uses" vÃ  new "quantities" properties.' },
    ],
  },
  {
    version: '1.37.1',
    date: '2025-08-04',
    changes: [
      { type: 'fix', text: 'Kháº¯c phá»¥c lá»—i quest experience rewards khÃ´ng Ä‘Æ°á»£c tá»± Ä‘á»™ng cá»™ng vÃ o PC - Triá»ƒn khai automatic experience parsing vÃ  application khi quest hoÃ n thÃ nh qua QUEST_UPDATED vÃ  QUEST_OBJECTIVE_COMPLETED tags.' },
      { type: 'fix', text: 'Sá»­a luyá»‡n API empty response error handling - Enhanced error logging vá»›i detailed response metadata, specific error diagnosis (content filtering, network issues), vÃ  actionable user guidance messages.' },
      { type: 'fix', text: 'Kháº¯c phá»¥c forced reflow performance issues gÃ¢y API blocking - Optimized StoryPanel component vá»›i requestAnimationFrame wrapping cho getBoundingClientRect calls, debounced resize handlers, vÃ  disabled virtual scrolling during loading states.' },
      { type: 'improvement', text: 'Enhanced quest completion system - Tá»± Ä‘á»™ng parse experience tá»« reward strings (há»— trá»£ "exp", "kinh nghiá»‡m", "experience" patterns), apply vÃ o PC currentExp, vÃ  trigger realm progression checks.' },
      { type: 'improvement', text: 'Improved API error diagnostics - Chi tiáº¿t logging bao gá»“m response metadata, model info, user actions, vá»›i specific error condition detection (token limits, content filtering, network issues).' },
      { type: 'improvement', text: 'StoryPanel performance optimizations - RequestAnimationFrame cho DOM measurements, 150ms debounced resize handlers, simplified virtual scrolling cho lists <10 items, vÃ  loading state performance guards.' },
      { type: 'technical', text: 'Quest reward processing integration - Modified commandTagProcessor.ts Ä‘á»ƒ handle experience rewards trong quest completion flows, vá»›i automatic realm progression checking vÃ  console logging cho debugging.' },
      { type: 'technical', text: 'DOM performance optimization architecture - Eliminated synchronous getBoundingClientRect calls, implemented proper cleanup patterns cho timeouts, vÃ  reduced layout thrashing trong virtual scrolling.' },
    ],
  },
  {
    version: '1.37.0',
    date: '2025-02-02',
    changes: [
      { type: 'fix', text: 'Sá»­a lá»—i SmartMemoryGenerator táº¡o duplicate memories - Triá»ƒn khai comprehensive deduplication system vá»›i text similarity analysis, keyword extraction (Vietnamese stop-words), semantic similarity checking (>80% threshold), vÃ  category-based duplicate detection.' },
      { type: 'fix', text: 'Kháº¯c phá»¥c duplicate processing trong memory management architecture - Loáº¡i bá» legacy HistoryManager direct calls tá»« GameScreen, Ä‘áº£m báº£o táº¥t cáº£ memory operations Ä‘i qua UnifiedMemoryManager Ä‘á»ƒ trÃ¡nh xung Ä‘á»™t configuration.' },
      { type: 'improvement', text: 'Enhanced memory deduplication vá»›i multi-layer detection - Text normalization, entity/tag overlap analysis, vÃ  real-time duplicate checking trong táº¥t cáº£ memory generation paths (story analysis, relationship tracking, achievement generation).' },
      { type: 'improvement', text: 'Unified Memory Architecture consolidation - Game giá» sá»­ dá»¥ng exclusively UnifiedMemoryManager thay vÃ¬ mixed approach, Ä‘áº£m báº£o coordinated cleanup sequence vÃ  consistent configuration across táº¥t cáº£ subsystems.' },
      { type: 'improvement', text: 'Optimized UnifiedMemoryManager thresholds - TÄƒng maxActiveMemories (40â†’80), maxActiveHistoryEntries (20â†’50), memoryCleanupThreshold (40â†’100), historyCompressionThreshold (16â†’40) Ä‘á»ƒ giáº£m aggressive cleanup vÃ  preserve context tá»‘t hÆ¡n.' },
      { type: 'improvement', text: 'Smart Memory Generator deduplication enhancements - Centralized duplicate checking vá»›i isDuplicateMemory(), deduplicateMemories(), calculateTextSimilarity() methods, vÃ  Vietnamese-optimized text analysis vá»›i contextual stop-words filtering.' },
      { type: 'technical', text: 'Memory architecture simplification - Removed legacy fallback history compression, unified import structure, vÃ  eliminated configuration conflicts giá»¯a HistoryManager vÃ  UnifiedMemoryManager systems.' },
      { type: 'technical', text: 'Enhanced duplicate detection algorithms - Jaccard similarity cho text comparison, significant overlap detection cho entities/tags (50% threshold), vÃ  category-based validation vá»›i importance scoring integration.' },
    ],
  },
  {
    version: '1.36.1',
    date: '2025-01-30',
    changes: [
      { type: 'feature', text: 'ThÃªm tÃ­nh nÄƒng xuáº¥t WorldSetup - cho phÃ©p ngÆ°á»i chÆ¡i xuáº¥t cáº¥u hÃ¬nh tháº¿ giá»›i (worldData vÃ  customRules) thÃ nh file JSON Ä‘á»ƒ sá»­ dá»¥ng láº¡i hoáº·c chia sáº» vá»›i ngÆ°á»i khÃ¡c.' },
      { type: 'feature', text: 'TÃ­ch há»£i nÃºt "ğŸ“¤ Xuáº¥t WorldSetup" vÃ o cáº£ SidebarNav (mobile) vÃ  DesktopHeader menu Ä‘á»ƒ dá»… dÃ ng truy cáº­p tá»« trong game.' },
      { type: 'improvement', text: 'File xuáº¥t Ä‘Æ°á»£c Ä‘áº·t tÃªn theo format "worldsetup_[tÃªn truyá»‡n]_[timestamp].json" vá»›i há»— trá»£ Unicode Ä‘áº§y Ä‘á»§ cho tÃªn tiáº¿ng Viá»‡t.' },
      { type: 'improvement', text: 'Loáº¡i bá» cÃ¡c console.log debug tá»« quest generation vÃ  entity export Ä‘á»ƒ clean up console output.' },
      { type: 'fix', text: 'Sá»­a lá»—i "Failed to fetch" khi gá»i AI API - thÆ°á»ng do váº¥n Ä‘á» network connectivity hoáº·c firewall blocking.' },
      { type: 'technical', text: 'WorldSetup export bao gá»“m worldData, customRules, exportTimestamp vÃ  exportVersion Ä‘á»ƒ Ä‘áº£m báº£o compatibility vÃ  traceability.' },
    ],
  },
  {
    version: '1.36.0',
    date: '2025-07-27',
    changes: [
      { type: 'fix', text: 'Sá»­a lá»—i nghiÃªm trá»ng khiáº¿n Entity Export cháº¡y trÃ¹ng láº·p - 2 instance cÃ¹ng lÃºc táº¡o ra file duplicate. Triá»ƒn khai comprehensive export locking mechanism vá»›i export ID tracking, singleton pattern enforcement, vÃ  5-second cooldown protection.' },
      { type: 'fix', text: 'Kháº¯c phá»¥c lá»—i Reference-based RAG khÃ´ng hoáº¡t Ä‘á»™ng Ä‘Ãºng - Prompt builder váº«n include cáº£ traditional RAG context láº«n reference-based context, phÃ¡ há»ng má»¥c tiÃªu tiáº¿t kiá»‡m 60-80% tokens. Giá» chá»‰ sá»­ dá»¥ng reference context khi enabled.' },
      { type: 'improvement', text: 'NÃ¢ng cáº¥p EntityExportManager vá»›i advanced duplicate prevention - Export ID tracking using Set data structure, window-level singleton enforcement, pending exports management, vÃ  automatic cleanup system.' },
      { type: 'improvement', text: 'Tá»‘i Æ°u hÃ³a Reference-based RAG system - Loáº¡i bá» traditional entity retrieval khi sá»­ dá»¥ng compact context, exclusive context usage, vÃ  proper token calculation Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c token reduction thá»±c sá»±.' },
      { type: 'improvement', text: 'Enhanced export locking vá»›i export ID integration - gameActionHandlers.ts giá» pass export ID vÃ o shouldExport() vÃ  exportEntities() methods, enabling proper duplicate detection vÃ  race condition prevention.' },
      { type: 'technical', text: 'Implement export ID tracking system - Unique export IDs vá»›i format export_{turn}_{timestamp}_{random}, tracked in pendingExports Set, vÃ  automatic cleanup trong finally blocks.' },
      { type: 'technical', text: 'Reference RAG optimization - Entity retrieval tá»« compact context references thay vÃ¬ traditional scoring, null intelligentContext khi USE_REFERENCE_RAG enabled, vÃ  exclusive prompt assembly logic.' },
      { type: 'technical', text: 'Enhanced EntityExportManager architecture - Window-level singleton pattern, export lock vá»›i currentTurn tracking, lastLockTime vá»›i cooldown protection, vÃ  comprehensive logging system.' },
    ],
  },
  {
    version: '1.35.0',
    date: '2025-07-27',
    changes: [
      { type: 'feature', text: 'Triá»ƒn khai há»‡ thá»‘ng Custom Experience Name hoÃ n chá»‰nh - NgÆ°á»i chÆ¡i cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a tÃªn Ä‘Æ¡n vá»‹ kinh nghiá»‡m trong CreateWorld (vÃ­ dá»¥: Chakra, Linh lá»±c, Ma lá»±c) thay vÃ¬ "Kinh nghiá»‡m" cá»‘ Ä‘á»‹nh.' },
      { type: 'feature', text: 'NÃ¢ng cáº¥p Realm System vá»›i Configurable Tiers - CreateWorld giá» cÃ³ section "Thiáº¿t Láº­p Há»‡ Thá»‘ng Cáº£nh Giá»›i" vá»›i kháº£ nÄƒng tá»± Ä‘á»‹nh nghÄ©a tÃªn cáº£nh giá»›i vÃ  experience requirements cho tá»«ng tier.' },
      { type: 'feature', text: 'Dynamic Realm Tier Management - ThÃªm nÃºt (+) vÃ  (-) Ä‘á»ƒ táº¡o/xÃ³a realm tiers, vá»›i validation vÃ  auto-numbering system Ä‘á»ƒ quáº£n lÃ½ cáº£nh giá»›i linh hoáº¡t.' },
      { type: 'feature', text: 'Enhanced Entity Display System - EntityInfoModal vÃ  PlayerCharacterSheet giá» hiá»ƒn thá»‹ realm vÃ  experience sá»­ dá»¥ng custom expName Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong world configuration.' },
      { type: 'improvement', text: 'Backward Compatibility cho Save Files - Há»‡ thá»‘ng tá»± Ä‘á»™ng migrate old save files vÃ  settings, Ä‘áº£m báº£o game cÅ© váº«n cháº¡y bÃ¬nh thÆ°á»ng vá»›i default realm system.' },
      { type: 'improvement', text: 'World Configuration Data Flow - Implement proper prop passing tá»« GameScreen â†’ MemoizedModals â†’ EntityInfoModal/PlayerCharacterSheet Ä‘á»ƒ hiá»ƒn thá»‹ custom expName.' },
      { type: 'fix', text: 'Duplicate Realm Field Bug Fix - Loáº¡i bá» duplicate realm display trong PC EntityInfoModal, giá» chá»‰ hiá»ƒn thá»‹ "Cáº£nh giá»›i" má»™t láº§n cho characters vÃ  "Cáº£nh giá»›i CÃ´ng PhÃ¡p" cho skills.' },
      { type: 'technical', text: 'Extended FormData Interface - ThÃªm expName (string) vÃ  realmTiers (RealmTier[]) fields vá»›i full TypeScript support cho realm system configuration.' },
      { type: 'technical', text: 'RealmTier Interface Implementation - Táº¡o structured interface vá»›i id, name, requiredExp fields Ä‘á»ƒ quáº£n lÃ½ realm progression system.' },
      { type: 'technical', text: 'Enhanced Entity Interface - ThÃªm currentExp field vÃ  realm display logic Ä‘á»ƒ support custom experience systems trong game entities.' },
      { type: 'technical', text: 'CreateWorld UI Enhancement - Implement realm management functions vá»›i add/remove tier functionality vÃ  real-time validation system.' },
      { type: 'technical', text: 'World Data Propagation - Setup complete data flow tá»« world creation â†’ game state â†’ modal display Ä‘á»ƒ Ä‘áº£m báº£o custom expName hiá»ƒn thá»‹ Ä‘Ãºng á»Ÿ má»i nÆ¡i.' },
    ],
  },
  {
    version: '1.34.0',
    date: '2025-07-27',
    changes: [
      { type: 'feature', text: 'Triá»ƒn khai há»‡ thá»‘ng tá»± Ä‘á»™ng táº¡o quest khá»Ÿi Ä‘áº§u - Má»—i khi táº¡o tháº¿ giá»›i má»›i, game sáº½ tá»± Ä‘á»™ng táº¡o má»™t quest exploration Ä‘á»ƒ ngÆ°á»i chÆ¡i cÃ³ má»¥c tiÃªu ngay tá»« Ä‘áº§u cuá»™c phiÃªu lÆ°u.' },
      { type: 'feature', text: 'TÃ­ch há»£p QuestGenerator vÃ  QuestIntegrator vÃ o quy trÃ¬nh khá»Ÿi táº¡o tháº¿ giá»›i - Sá»­ dá»¥ng AI Ä‘á»ƒ táº¡o quest phÃ¹ há»£p vá»›i bá»‘i cáº£nh tháº¿ giá»›i, vá»›i fallback template náº¿u AI generation tháº¥t báº¡i.' },
      { type: 'improvement', text: 'Cáº£i thiá»‡n progress tracking trong world creation - ThÃªm bÆ°á»›c "Äang táº¡o quest khá»Ÿi Ä‘áº§u" vá»›i progress indicator Ä‘á»ƒ ngÆ°á»i chÆ¡i biáº¿t há»‡ thá»‘ng Ä‘ang lÃ m gÃ¬.' },
      { type: 'improvement', text: 'Enhanced quest integration vá»›i automatic quest giver creation - Náº¿u quest giver chÆ°a tá»“n táº¡i, há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng táº¡o NPC quest giver vá»›i thÃ´ng tin phÃ¹ há»£p.' },
      { type: 'improvement', text: 'Automatic initial quest memory creation - Khi quest Ä‘Æ°á»£c táº¡o, há»‡ thá»‘ng tá»± Ä‘á»™ng táº¡o memory tÆ°Æ¡ng á»©ng Ä‘á»ƒ AI nhá»› vÃ  tham chiáº¿u trong gameplay.' },
      { type: 'technical', text: 'Enhanced createInitialQuest function vá»›i comprehensive error handling - Support cho multiple AI models, fallback system, vÃ  detailed logging cho debugging.' },
      { type: 'technical', text: 'Integration vá»›i existing quest system architecture - Sá»­ dá»¥ng QuestSeed, QuestGenerator.generateQuestsFromSeeds(), vÃ  QuestIntegrator.forceIntegrateQuest() Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh nháº¥t quÃ¡n.' },
      { type: 'technical', text: 'Quest seed configuration optimized cho new worlds - Default exploration type quest vá»›i easy difficulty vÃ  relevant hooks vá» khÃ¡m phÃ¡ tháº¿ giá»›i má»›i.' },
    ],
  },
];
